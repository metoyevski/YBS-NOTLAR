<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muhasebe Test Uygulaması</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            background-color: #f4f4f4;
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        header {
            background-color: #333;
            color: white;
            padding: 1em;
            width: 100%;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        nav {
            background-color: #444;
            padding: 0.5em;
            text-align: center;
            width: 100%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        nav button {
            background-color: #555;
            color: white;
            border: none;
            padding: 0.8em 1.5em;
            margin: 0.5em;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        nav button:hover, nav button.active {
            background-color: #777;
        }
        .container {
            background-color: white;
            padding: 2em;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            margin-top: 2em;
            width: 90%;
            max-width: 800px;
        }
        .question-container {
            margin-bottom: 1.5em;
        }
        .question-text {
            font-size: 1.2em;
            margin-bottom: 1em;
            line-height: 1.6;
        }
        .options button {
            display: block;
            width: 100%;
            padding: 0.8em;
            margin-bottom: 0.5em;
            background-color: #e7e7e7;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            text-align: left;
            transition: background-color 0.3s, border-color 0.3s;
        }
        .options button:hover {
            background-color: #dcdcdc;
            border-color: #ccc;
        }
        .options button.selected {
            background-color: #c7e6c7;
            border-color: #a5d6a7;
        }
        .options button.correct {
            background-color: #a5d6a7; /* Light green */
            border-color: #81c784;
        }
        .options button.incorrect {
            background-color: #ef9a9a; /* Light red */
            border-color: #e57373;
        }
        .feedback {
            margin-top: 1em;
            padding: 0.8em;
            border-radius: 5px;
            font-weight: bold;
        }
        .feedback.correct {
            background-color: #c8e6c9;
            color: #2e7d32;
        }
        .feedback.incorrect {
            background-color: #ffcdd2;
            color: #c62828;
        }
        .navigation-buttons {
            margin-top: 1.5em;
            text-align: right;
        }
        .navigation-buttons button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 0.8em 1.5em;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .navigation-buttons button:hover {
            background-color: #0056b3;
        }
        .navigation-buttons button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        #quiz-area, #result-area {
            display: none; /* Initially hidden */
        }
         #score-area {
            margin-top: 1em;
            font-size: 1.1em;
            font-weight: bold;
        }

        /* Mobile responsiveness */
        @media (max-width: 600px) {
            .container {
                width: 95%;
                padding: 1.5em;
            }
            nav button {
                padding: 0.7em 1em;
                margin: 0.3em;
            }
            .question-text {
                font-size: 1.1em;
            }
            .options button {
                padding: 0.7em;
            }
             .navigation-buttons button {
                padding: 0.7em 1.2em;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Muhasebe Test Uygulaması</h1>
    </header>
    <nav id="unit-navigation">
        <!-- Unit buttons will be inserted here by JavaScript -->
    </nav>
    <div class="container">
        <div id="quiz-selection">
            <h2>Lütfen bir ünite seçin.</h2>
        </div>
        <div id="quiz-area">
            <div class="question-container">
                <p id="question-number"></p>
                <p id="question-text" class="question-text"></p>
            </div>
            <div id="options-container" class="options">
                <!-- Options will be inserted here -->
            </div>
            <div id="feedback-area" class="feedback" style="display: none;"></div>
             <div id="score-area"></div>
            <div class="navigation-buttons">
                <button id="next-question" disabled>Sonraki Soru</button>
            </div>
        </div>
        <div id="result-area">
            <h2>Test Tamamlandı!</h2>
            <p id="final-score"></p>
            <button id="restart-quiz">Yeni Teste Başla (Başka Ünite)</button>
        </div>
    </div>

    <script src="script.js" defer></script>
</body>
</html>
    
4. Bir döneme ait giderlerin, aynı döneme ait gelirlerle karşılaştırılması hangi kavram gereğidir?  
    **a. Eşleştirme**  
    b. Dönemsellik  
    c. Tutarlılık  
    d. Tahakkuk  
    e. İşletmenin sürekliliği
    
5. İşletme çalışanlarına her Cuma günü haftalık ₺50.000 ödeme yapmaktadır. Dönem sonu (31.12) Çarşamba günü olursa, yapılacak kayıt hangisidir?  
    **a. GENEL YÖNETİM GİDER. HS 30.000**  
    **ÖDENECEK ÜCRETLER 30.000**  
    b. GENEL YÖNETİM GİDERLERİ 50.000  
    KASA HS 50.000  
    c. ÖDENECEK ÜCRETLER 50.000  
    KASA HS 50.000  
    d. ÖDENECEK ÜCRETLER 30.000  
    GENEL YÖNETİM GİDER 30.000  
    e. GİDER TAHAKKUKLARI 50.000  
    KASA HS 50.000
    
6. 632.GENEL YÖNETİM GİDER. HS 12.000  
    771.GENEL YÖNETİM GİDER. YANSITMA HS 12.000  
    Yukarıdaki kayıt hangi işleme aittir?  
    a. Gerçekleşen genel yönetim giderinin kaydı  
    **b. Genel yönetim giderinin yansıtma hesabı ile sonuç hesabına aktarılması**  
    c. Cari döneme ait olamayan giderin ait olduğu döneme yansıtılması  
    d. Maliyet hesabı ile gider hesabının kapatılması  
    e. Gider hesabının dönem kâr zararına devredilmesi
    
7. Aşağıdaki hesaplardan hangisi 7/A seçeneğine aittir?  
    a. Amortisman ve Tükenme payları  
    b. İşçi Ücret ve Giderleri  
    c. Çeşitli Giderler  
    d. İlk madde ve Malzeme Giderleri  
    **e. Genel Yönetim Giderleri**
    
8. İşletmenin elinde bulunan tahvillerin döneme ilişkin faizi ₺3.860 hesaplanmıştır. Yapılacak kayıtta hangisi doğrudur?  
    a. Kasa Hs borçlu/Faiz gelirleri Hs alacaklı  
    b. Diğer Çeşitli Alacaklar Hs borçlu /Faiz Gelirleri alacakları  
    **c. Gelir Tahakkukları Hs. Borçlu/ Faiz Gelirleri alacaklı**  
    d. Gelecek Aylara Ait Gelirler Hs. Borçlu/Faiz Gelirleri alacaklı  
    e. Özel Kesim Tahvil Senet Ve Bonoları Hs. Borçlu/ Faiz Gelirleri Alacaklı
    
9. Hangisi mal satış işleminde gelirin doğmasının koşulu **değildir**?  
    a. İşletmenin malların sahipliği ile ilgili tüm risk ve getirileri alıcıya devretmiş olması  
    **b. İşletmenin satılan mallar üzerinde kontrol ve sahipliğini etkin bir şekilde sürdürmesi**  
    c. Hasılatın güvenilir şekilde ölçülebilmesi  
    d. Ekonomik yarar elde edilmesinin olası olması  
    e. İşleme ilişkin katlanılan veya katlanılacak olan maliyetlerin güvenilir şekilde ölçülmesi
    
10. Dönem içinde kaydedilen giderlerin içinde kanunen kabul edilmeyen giderlerin olması durumunda hangi işlem yapılır?  
    a. Herhangi bir işleme gerek yoktur.  
    b. İlgili gider hesabından çıkartılır  
    c. Dönem kârı veya zararı hesabına devredilmez  
    d. Vergiden muaf gelirlerden mahsup edilir.  
    **e. Nazım hesaplara kayıt yapılır**
    

---

**Ünite 8 (Sayfa 190)**

**Kendimizi Sınayalım**

1. Envanter çıkarma kavramı aşağıdakilerden hangisinin karşılığıdır?  
    a. Ayarlama kayıtları  
    b. Sayım  
    c. Düzeltme kayıtları  
    **d. Sayım ve değerleme**  
    e. Envanter kayıtları
    
2. İşletmelerin her muhasebe döneminde çıkarmak zorunda olduğu envantere ne ad verilir?  
    a. Devir envanteri  
    **b. Dönem sonu envanteri**  
    c. Tasfiye envanteri  
    d. Kuruluş envanteri  
    e. Devamlı envanter
    
3. Muhasebe dönemi sonunda envanter işlemlerinden önce çıkarılan mizana ne ad verilir?  
    a. Geçici mizan  
    **b. Genel geçici mizan**  
    c. Kesin mizan  
    d. Aylık mizan  
    e. Genel mizan
    
4. Genel geçici mizan ile kesin mizan arasında fark nedir?  
    **a. Kesin mizanın ayarlama ve düzeltme kayıtlarından sonra hazırlanması**  
    b. Genel geçici mizanın 12. ayın kayıtlarından sonra hazırlanması  
    c. Kesin mizanın büyük defter hesaplarından hazırlanması  
    d. Genel geçici mizanın yardımcı defter bilgilerini içermemesi  
    e. Kesin mizanın 12 aylık kümülatif rakamları içermesi
    
5. İşletmenin varlıklarının ve borçlarının ulusal para ile ifade edilmesi şeklinde tanımlanan kavram aşağıdakilerden hangisidir?  
    **a. Değerleme**  
    b. Sayım  
    c. Ayarlama  
    d. Düzeltme  
    e. Mizan
    
6. Aşağıdaki değerleme ölçülerinden hangisi Vergi Usul Kanununda yer **almaz**?  
    a. Mukayyet değer  
    b. Tasarruf değeri  
    c. İtibari değer  
    d. Emsal bedeli  
    **e. Gerçeğe uygun değer**
    
7. Muhasebe içi envanter kayıtları nereye yapılır?  
    a. İşletme hesabı defterine  
    b. Yardımcı deftere  
    **c. Yevmiye ve büyük deftere**  
    d. Envanter defterine  
    e. Envanter listesine
    
8. Aşağıdaki ifadelerden hangisi **yanlıştır**?  
    a. Bilanço kesin mizan kalanlarından yararlanılarak düzenlenir.  
    b. Bilançoda varlıklar en likit varlıktan en az likit olana doğru düzenlenir.  
    c. Bilançoda kaynaklar, kısa vadeli ve uzun vadeli yabancı kaynaklar ile öz kaynaklardan oluşur.  
    d. Bilançoda aktifi düzenleyici hesaplar, bilançonun aktifinde ilgili kalemden indirim olarak gösterilir  
    **e. Bilançonun pasifi dönen ve duran varlıklar olmak üzere iki ana gruba ayrılır.**
    
9. Gelir tablosunda muhasebe ilkeleri, muhasebe standartları ve TTK hükümlerine göre hesaplanan kâr, aşağıdakilerden hangisidir?  
    a. Vergi kârı  
    b. Mali kâr  
    c. Vergi sonrası kâr  
    **d. Ticari kâr**  
    e. Vergi matrahı
    
10. Dönem sonu işlemleri kapsamında yer alan aşağıda karışık olarak verilen işlemlerden hangisi en son yapılacak işlemdir?  
    a. Ayarlama ve düzeltme kayıtları  
    b. Sayım ve değerleme işlemleri  
    **c. Hesapların kapanış kaydı**  
    d. Dönem sonu finansal tabloların düzenlenmesi  
    e. Kesin mizanın düzenlenmesi
`;

        const unitNavigation = document.getElementById('unit-navigation');
        const quizSelectionDiv = document.getElementById('quiz-selection');
        const quizAreaDiv = document.getElementById('quiz-area');
        const questionNumberP = document.getElementById('question-number');
        const questionTextP = document.getElementById('question-text');
        const optionsContainerDiv = document.getElementById('options-container');
        const feedbackAreaDiv = document.getElementById('feedback-area');
        const scoreAreaDiv = document.getElementById('score-area');
        const nextQuestionButton = document.getElementById('next-question');
        const resultAreaDiv = document.getElementById('result-area');
        const finalScoreP = document.getElementById('final-score');
        const restartQuizButton = document.getElementById('restart-quiz');

        let allUnits = [];
        let currentUnitIndex = -1;
        let currentQuestionIndex = -1;
        let score = 0;
        let currentUnitQuestions = [];
        let answerSelected = false;

        function parseQuestions() {
            const lines = questionsData.trim().split('\\n');
            let currentUnit = null;
            let currentQuestion = null;
            const optionRegex = /^\\s*([a-e])\\.\\s*(.*)/;
            const questionRegex = /^\\s*(\\d+)\\.\\s*(.*)/;
            const unitRegex = /\\*\\*Ünite (\\d+).*\\*\\*/;

            for (const line of lines) {
                const trimmedLine = line.trim();
                if (!trimmedLine || trimmedLine === "---" || trimmedLine.toLowerCase() === "**kendimizi sınayalım**") {
                    continue;
                }

                const unitMatch = trimmedLine.match(unitRegex);
                if (unitMatch) {
                    if (currentUnit) {
                        if (currentQuestion) {
                            currentUnit.questions.push(currentQuestion);
                            currentQuestion = null;
                        }
                        allUnits.push(currentUnit);
                    }
                    currentUnit = { name: `Ünite ${unitMatch[1]}`, questions: [] };
                    continue;
                }

                if (!currentUnit) continue;

                const questionMatch = trimmedLine.match(questionRegex);
                if (questionMatch) {
                    if (currentQuestion) {
                        currentUnit.questions.push(currentQuestion);
                    }
                    currentQuestion = {
                        number: parseInt(questionMatch[1]),
                        text: questionMatch[2].trim(),
                        options: [],
                        correctAnswer: ''
                    };
                    continue;
                }

                if (!currentQuestion) continue;

                const optionMatch = trimmedLine.match(optionRegex);
                if (optionMatch) {
                    const isCorrect = trimmedLine.startsWith('**');
                    let optionText = optionMatch[2].trim();
                    if (isCorrect) {
                        // Remove markdown for correct answer
                        optionText = optionText.substring(2, optionText.length - 2).trim();
                        currentQuestion.correctAnswer = optionMatch[1];
                    }
                    currentQuestion.options.push({ id: optionMatch[1], text: optionText });
                }
            }
            if (currentUnit && currentQuestion) {
                currentUnit.questions.push(currentQuestion);
            }
            if (currentUnit && !allUnits.some(u => u.name === currentUnit.name)) {
                 allUnits.push(currentUnit);
            }
             // Filter out units with no questions, or questions with no options
            allUnits = allUnits.filter(unit => unit.questions.length > 0 && unit.questions.every(q => q.options.length > 0 && q.correctAnswer));
        }


        function displayUnits() {
            unitNavigation.innerHTML = ''; // Clear previous buttons
            allUnits.forEach((unit, index) => {
                const button = document.createElement('button');
                button.textContent = unit.name;
                button.onclick = () => startQuiz(index);
                unitNavigation.appendChild(button);
            });
        }

        function startQuiz(unitIndex) {
            currentUnitIndex = unitIndex;
            currentUnitQuestions = allUnits[currentUnitIndex].questions;
            currentQuestionIndex = 0;
            score = 0;
            answerSelected = false;

            document.querySelectorAll('#unit-navigation button').forEach((btn, idx) => {
                if (idx === unitIndex) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });

            quizSelectionDiv.style.display = 'none';
            resultAreaDiv.style.display = 'none';
            quizAreaDiv.style.display = 'block';
            feedbackAreaDiv.style.display = 'none';
            nextQuestionButton.disabled = true;
            displayQuestion();
            updateScoreDisplay();
        }

        function displayQuestion() {
            if (currentQuestionIndex < currentUnitQuestions.length) {
                const question = currentUnitQuestions[currentQuestionIndex];
                questionNumberP.textContent = `Soru ${currentQuestionIndex + 1} / ${currentUnitQuestions.length}`;
                questionTextP.textContent = question.text;
                optionsContainerDiv.innerHTML = '';

                question.options.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = `${option.id}. ${option.text}`;
                    button.onclick = () => selectAnswer(button, option.id, question.correctAnswer);
                    optionsContainerDiv.appendChild(button);
                });
                answerSelected = false;
                nextQuestionButton.disabled = true;
                feedbackAreaDiv.style.display = 'none';
            } else {
                showResults();
            }
            updateScoreDisplay();
        }

        function selectAnswer(selectedButton, selectedOptionId, correctAnswerId) {
            if (answerSelected) return; // Prevent changing answer after selection

            answerSelected = true;
            nextQuestionButton.disabled = false;

            const buttons = optionsContainerDiv.getElementsByTagName('button');
            for (let btn of buttons) {
                btn.disabled = true; // Disable all options after one is selected
                 // Find the option text (e.g. "a. Kaydetme") and extract the ID (e.g. "a")
                const btnOptionId = btn.textContent.match(/^([a-e])\\./)[1];
                if (btnOptionId === correctAnswerId) {
                    btn.classList.add('correct');
                }
            }

            if (selectedOptionId === correctAnswerId) {
                score++;
                selectedButton.classList.add('correct');
                feedbackAreaDiv.textContent = 'Doğru!';
                feedbackAreaDiv.className = 'feedback correct';
            } else {
                selectedButton.classList.add('incorrect');
                feedbackAreaDiv.textContent = `Yanlış! Doğru cevap: ${correctAnswerId.toUpperCase()}`;
                feedbackAreaDiv.className = 'feedback incorrect';
            }
            feedbackAreaDiv.style.display = 'block';
            updateScoreDisplay();
        }

        function updateScoreDisplay() {
            scoreAreaDiv.textContent = `Skor: ${score} / ${currentUnitQuestions.length}`;
        }

        function nextQuestion() {
            currentQuestionIndex++;
            displayQuestion();
        }

        function showResults() {
            quizAreaDiv.style.display = 'none';
            resultAreaDiv.style.display = 'block';
            finalScoreP.textContent = `Toplam Skor: ${score} / ${currentUnitQuestions.length}`;
        }
        
        function resetQuizState() {
            quizAreaDiv.style.display = 'none';
            resultAreaDiv.style.display = 'none';
            quizSelectionDiv.style.display = 'block';
            currentUnitIndex = -1;
            currentQuestionIndex = -1;
            score = 0;
            currentUnitQuestions = [];
            answerSelected = false;
            document.querySelectorAll('#unit-navigation button').forEach(btn => btn.classList.remove('active'));
        }


        // Event Listeners
        nextQuestionButton.addEventListener('click', () => {
            if (answerSelected) {
                 nextQuestion();
            }
        });
        restartQuizButton.addEventListener('click', resetQuizState);

        // Initialization
        parseQuestions();
        if (allUnits.length > 0) {
            displayUnits();
        } else {
            quizSelectionDiv.innerHTML = '<h2>Sorular yüklenemedi veya bulunamadı. Lütfen `sorular.md` dosyasının formatını kontrol edin.</h2>';
        }

    </script>

</body>
</html>
